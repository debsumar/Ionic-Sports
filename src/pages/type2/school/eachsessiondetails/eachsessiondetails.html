<!--
  Generated template for the GroupsessiondetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <ion-title>School Session Details</ion-title>
    </ion-navbar>
</ion-header>


<ion-content padding>
<div *ngIf="schoolDetails" class="coantainer_div">
    <div class="dets_card block">
        <p class="session">{{schoolDetails.days}}<br />{{schoolDetails.start_time}} - {{schoolDetails.end_time}}</p>
        <p class="themeheaderfont">{{schoolDetails.start_date}}
            <ion-icon name="ios-arrow-round-forward-outline"></ion-icon> {{schoolDetails.end_date}}
        </p>
        <ion-grid style="padding:0px;">
            <ion-row style="padding:0px;">
                <ion-col col-md-3 col-sm-3 col-3 style="text-align:center;padding:0px;">
                    <img class="img1" [src]="schoolDetails.CoachDetails[0].profile_image">
                    <p class="coachname ">{{schoolDetails.coach_names}}</p>
                </ion-col>
                <ion-col col-md-9 col-sm-9 col-9 class="border-left">
                    <p class="sessionName cust_margin">{{schoolDetails.school_session_name}}</p>
                    <p class="ellipse venuename cust_margin">{{schoolDetails.ParentClubSchool.school.school_name}}</p> 
                    <ion-row>
                        <ion-col col-7></ion-col>
                        <ion-col col-2>
                            <button ion-fab mini class="fabicon" (tap)="sendEmail()">
                                <ion-icon name="md-mail"></ion-icon>
                            </button>
                        </ion-col>
                        <ion-col col-3 style="float:right;text-align:right;">
                            <button ion-fab mini class="fabicon" (tap)="notifyGroupUsers()" style="float: right;">
                                <ion-icon name="md-chatbubbles"></ion-icon>
                            </button>
                        </ion-col>
                    </ion-row>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
    <div class="finanace_div" *ngIf="can_coach_see_revenue">
        <ion-card class="cardstyle leftbox">
            <ion-card-content class="nopad">
                <ion-row class="ion_row">
                    <ion-col col-6 class="leftbox">
                        <div>
                            <p class="cust_label ">Member</p>
                            <p class="value1 topboxvalue">{{schoolDetails.paid_count}}</p>
                        </div>

                        <div>
                            <p class="value1 bottomboxvalue">{{schoolDetails.tot_enrol_count}}</p> 
                            <p class="cust_label ">Enroled</p>
                        </div>
                    </ion-col>
                    <ion-col col-6 class="rightbox">
                        <div>
                            <p class="cust_label ">Paid</p>
                            <p class="value1 topboxvalue"><span
                                    *ngIf="currencyDetails!=undefined">{{currencyDetails.CurrencySymbol}}</span>{{schoolDetails.tot_paid_amount | number: '1.2-2'}}
                            </p>
                        </div>

                        <div>
                            <p class="value1 bottomboxvalue"><span
                                    *ngIf="currencyDetails!=undefined">{{currencyDetails.CurrencySymbol}}</span>{{schoolDetails.tot_amount | number: '1.2-2'}}
                            </p> 
                            <p class="cust_label">Total</p>
                        </div>
                    </ion-col>
                </ion-row>
            </ion-card-content>
        </ion-card>
    </div>
</div>
    

<div style="margin-bottom: 60px;">
    <ion-card class="membercard" *ngFor="let memberDets of memberEnrolDetails" (tap)="showPopOverActionSheet(memberDets)">
        <ion-card-content>
            <ion-grid style="height: 100%;">
                <ion-row style="height: 100%;">
                    <ion-col col-7 class="margin_auto">
                        <p>{{memberDets.member.FirstName}} {{memberDets.member.LastName}}</p>
                        <p class="passcode">{{memberDets.passcode}}</p>
                    </ion-col>
                    <ion-col col-2 style="padding: 5px 0px 0px 0px;" class="margin_auto">
                        {{memberDets.member.DOB == '0' ? 'N.A' : memberDets.member.DOB}}Yrs
                    </ion-col>
                    <ion-col col-3 class="paidBlock margin_auto" *ngIf="can_coach_see_revenue">
                        <div *ngIf="memberDets.amount_pay_status =='1'" style="float: right;">
                            <p class="moneypaid">
                                <span
                                    *ngIf="currencyDetails!=undefined">{{currencyDetails.CurrencySymbol}}</span>{{getRound(memberDets.payment.amount_paid | number: '1.2-2')}}
                            </p>
                            <p class="transactiondate" *ngIf="transactiondate!='Invalid date'">
                                <span
                                    *ngIf="memberDets.payment.paidby!=undefined">{{memberDets.payment.paidby_text}}</span><br
                                    *ngIf="memberDets.payment.paidby!=undefined">
                                <span>{{memberDets.payment.transaction_date}}</span>
                            </p>
                        </div>
                        <div *ngIf="memberDets.amount_pay_status =='3'">
                            <img src="assets/images/acknowledgment.png" class="dueimage"
                                style="margin-top: 3px;height: 13px;">
                                <!-- <p class="transactiondate" *ngIf="transactiondate!='Invalid date'">
                                    {{memberDets.payment.transaction_date}}
                                </p> -->
                        </div>
                        <div *ngIf="memberDets.amount_pay_status =='0'">
                            <p class="pending">
                                <span
                                    *ngIf="currencyDetails!=undefined">{{currencyDetails.CurrencySymbol}}{{memberDets.amount_due | number: '1.2-2'}}</span>
                            </p>
                            <p class="pending">Pending</p>
                        </div>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-card-content>
    </ion-card>
</div>
   

     
 







    <!-- <button ion-fab mini (tap)="removeSession()" class="trash_icon" *ngIf="isShowDelete">
        <ion-icon name="trash"></ion-icon>
    </button> -->


    <!-- style="margin-top: -32px;"  -->
    <!-- <button ion-fab mini (tap)="removeSession()" class="trash_icon" *ngIf="isShowDelete">
        <ion-icon name="trash"></ion-icon>
    </button> -->
    <ion-fab left bottom  class="bottom_10">
        <button ion-fab mini style="background-color: #2b92bb;" (click)="removeConfirmation()"
            style="background-color:#2b92bb !important; color: white !important">
            <ion-icon name="trash"></ion-icon>
        </button>
    </ion-fab>
    <ion-fab mini right bottom #fab>

        <button style="background-color:#2b92bb !important; color: white !important" ion-fab mini
             id="fav-ico">
            <ion-icon name="add"></ion-icon>
        </button>
        <ion-fab-list side="top">
            <p class="fabEmailText" style="margin-left: -138px;" (tap)="addMemberToSession()">Add Member</p>
            <button style="background-color:#2b92bb !important ;color: white !important" ion-fab class="fabTop"
                (tap)="addMemberToSession()">
                <ion-icon name="md-person-add"></ion-icon>
            </button>
            
            <p class="fabEmailText" style="margin-left: -140px;" (tap)="gotoPrintMember()">Print Member</p>
            <button style="background-color:#2b92bb !important;color: white !important " ion-fab class="fabTop"
                (tap)="gotoPrintMember()">
                <ion-icon name="md-print"></ion-icon>
            </button>

            <p class="fabEmailText" style="margin-left: -129px;" (tap)="goToAttendance()">Attendance</p>
            <button style="background-color:#2b92bb !important ;color: white !important" ion-fab class="fabTop"
                (tap)="goToAttendance()">
                <ion-icon name="md-clipboard"></ion-icon>
            </button>

            <p class="fabEmailText" style="margin-left: -90px;" (tap)="copyConfirmAlert()">Copy</p>
            <button style="background-color:#2b92bb !important;color: white !important " ion-fab class="fabTop"
                (tap)="copyConfirmAlert()">
                <ion-icon name="md-clipboard"></ion-icon>
            </button>

            <p class="fabEmailText" style="margin-left: -82px;" (tap)="editSession()">Edit</p>
            <button style="background-color:#2b92bb !important;color: white !important " ion-fab class="fabTop"
                (tap)="editSession()">
                <ion-icon name="md-create"></ion-icon>
            </button>


        </ion-fab-list>

    </ion-fab>



    <!-- Custom Modal controller -->

    <!-- Trigger/Open The Modal -->
    <!-- <button id="myBtn">Open Modal</button> -->

    <!-- The Modal -->
    <div id="installmentModals" class="modal">

        <!-- Modal content -->
        <div class="modal-content">
            <h1 class="installment_header">Installments</h1>
            <ion-list radio-group [(ngModel)]="relationship">
                <ion-item *ngFor="let installment of  installments">
                    <ion-label>{{installment.InstallmentName}}</ion-label>
                    <ion-checkbox [(ngModel)]="installment.IsSelected"></ion-checkbox>
                </ion-item>
            </ion-list>

            <ion-grid style="margin-bottom:60%">
                <ion-row>
                    <ion-col col-6>
                        <button ion-button block style="background-color:#2b92bb !important; color: white !important"
                            (click)="cancelSessionCreation()">Cancel</button>
                    </ion-col>

                    <ion-col col-6>
                        <button ion-button block class="timekare-primary-btn"
                            (click)="continueToAddMember()">Continue</button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </div>
    </div>
</ion-content>
