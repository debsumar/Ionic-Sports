<ion-header *ngIf="themeType == 1">
    <ion-navbar>
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>
            {{LangObj.scl_ssn}}
        </ion-title>
        <ion-buttons end>
            <button ion-button icon-only (click)="presentPopover($event)">
                <ion-icon name="more"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>

</ion-header>
<ion-header *ngIf="themeType == 2">
    <ion-navbar>
        <button ion-button icon-only menuToggle (click)="goToDashboardMenuPage()">
            <ion-icon name="apps"></ion-icon>
        </button>
        <ion-title>
            {{LangObj.scl_ssn}}
        </ion-title>
        <ion-buttons end>
            <button ion-button icon-only (click)="goToDashboardMenuPage()">
                <img src="assets/images/home.svg" class="home_btn">
            </button>

            <button ion-button icon-only (click)="presentPopover($event)">
                <ion-icon name="more"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>

</ion-header>
<ion-content class="cards-bg social-cards" padding [ngClass]="isDarkTheme ? 'dark-theme' : 'light-theme'">
    <!-- Sticky Header Container -->
    <div class="sticky-header-container">
        <!-- Full Width School Dropdown -->
        <ion-item class="venue-dropdown">
            <ion-label>School</ion-label>
            <ion-select [(ngModel)]="selectedSchool" (ionChange)="onChangeOfSchool()" class="full-width-select">
                <ion-option value='all'>{{LangObj.scl_ssn_all}}</ion-option>
                <ion-option *ngFor="let school of schools" value={{school.id}}>{{school.school_name}}</ion-option>
            </ion-select>
        </ion-item>
        
        <!-- Compact Search -->
        <div class="compact-search-card themed-card">
            <div class="search-content">
                <ion-searchbar class="sleek-searchbar themed-searchbar" placeholder="Search sessions of {{session_count}}" 
                    [(ngModel)]="searchInput" (ionInput)="getFilterItems($event)" autocorrect="off" 
                    showCancelButton="never"></ion-searchbar>
            </div>
        </div>
    </div>

    <!-- Scrollable Content Area -->
    <div class="scrollable-content-area">
        <!-- No Sessions Message -->
        <div *ngIf="!filter_scl_sessions || filter_scl_sessions.length == 0" class="no-data-container">
            <div class="no-data-content">
                <ion-icon name="school" class="no-data-icon"></ion-icon>
                <p class="no-data-text">No sessions found</p>
            </div>
        </div>
        
        <div *ngIf="filter_scl_sessions && filter_scl_sessions.length > 0">
            <div *ngFor="let session of filter_scl_sessions; let i=index" class="session-container">
                <div class="modern-card session-card themed-session-card" (click)="gotoEachSessionDetails(session)">
                    <div class="card-header">
                        <div class="card-icon-wrapper school-bg">
                            <ion-icon name="school" class="card-icon"></ion-icon>
                        </div>
                        <div class="card-info">
                            <h3 class="card-title">{{session.school_session_name}}</h3>
                            <p class="card-subtitle">{{session.ParentClubSchool.school.school_name}}</p>
                        </div>
                        <div class="enrollment-badge">
                            <span class="badge-text">{{session.enrolled_count}}</span>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="session-details">
                            <div class="detail-row">
                                <div class="detail-item">
                                    <ion-icon name="time" class="detail-icon"></ion-icon>
                                    <span class="detail-text">{{session.days}} - {{session.start_time}}, {{session.duration}}min</span>
                                </div>
                            </div>
                            <div class="detail-row">
                                <div class="detail-item">
                                    <ion-icon name="person" class="detail-icon"></ion-icon>
                                    <span class="detail-text">{{session.coach_names}}</span>
                                </div>
                            </div>
                            <div class="detail-row">
                                <div class="detail-item">
                                    <ion-icon name="calendar" class="detail-icon"></ion-icon>
                                    <span class="detail-text">{{LangObj.scl_ssn_EndsOn}}: {{session.end_date}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <!-- <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
        <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Please wait...">
        </ion-infinite-scroll-content>
    </ion-infinite-scroll> -->


</ion-content>
<!-- <page-paymentgatewaysetup *ngIf="this.isShowPaymentModal" InstructTxt="Please connect to payment gateway for sessions"
    (skip)="skip()" (navigate)="GotoPaymentSetup()"></page-paymentgatewaysetup> -->
<ion-fab right bottom *ngIf="loggedin_type!=4">
    <button ion-fab mini style="background-color: #2b92bb;" (click)="gotoCreateSchoolSession()"
        style="background-color:#2b92bb !important; color: white !important">
        <ion-icon name="add"></ion-icon>
    </button>
</ion-fab>


<ion-fab left bottom>
    <button ion-fab mini style="background-color: #2b92bb;" (click)="swithActivePast()"
        style="background-color:#2b92bb !important; color: white !important">
        <ion-icon name="ios-timer"></ion-icon>
    </button>
</ion-fab>