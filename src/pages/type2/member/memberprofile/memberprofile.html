<!--
  Generated template for the MemberprofilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>{{LangObj.memPro_Profile}}</ion-title>
    </ion-navbar>

</ion-header>


 <ion-content>
   <ion-row class="profile-header-row" style="height: 214px;" *ngIf="this.memberInfo">
        <ion-col col-12 class="profile-pic">
            <img src="assets/images/user2.png">
            <ion-icon name="md-create" class="create-icon" (click)="goToEditPage()"></ion-icon>
        </ion-col>
        <ion-col col-12 style="text-align: -webkit-center;">
            <h4 class="mar-0">{{memberInfo.parent_firstname}} {{memberInfo.parent_lastname}}  <span style="font-size: 16px;">({{this.commonService.calculateAgeFromDOB(memberInfo.DOB)}} Yrs)</span></h4>
        </ion-col>
        <ion-col col-12 *ngIf="memberInfo.MembershipName" style="text-align: -webkit-center; font-size: 1.8rem !important;">
            <h4 class="mar-0" style="font-size: 1.8rem;">{{memberInfo.MembershipName}}</h4>
        </ion-col>
        <ion-col clo-12 class="icon-col" style="text-align: -webkit-center;">
            <button (click)="callToMember()"> <ion-icon name="ios-call"></ion-icon></button>
            <button (click)="sentAnEmailToMember()"> <ion-icon name="ios-mail"></ion-icon></button>
            <button (click)="notifyToMember()"> <ion-icon name="md-chatbubbles"></ion-icon></button>
        </ion-col>
    </ion-row>
    <ion-row (click)="goToShowFamily()" style="height: max-content;">
        <ion-col col-2 text-center>
            <ion-icon name="ios-people" class="color-white body-icon"></ion-icon>
        </ion-col>
        <ion-col col-8 class="borderbottomblock">
            <ion-label class="color-white name">{{LangObj.memPro_familymem}}
            </ion-label>
            <ion-slides *ngIf = "this.family_members.length > 0"class="group-slides" [slidesPerView]="2" >
                <!-- <ion-slide *ngFor="let family of activeMembeships;let i = index">
                    <ion-card class="facilityCard">
                        <ion-card-content [class.member_name]="family.SetupName == undefined">
                            <p class="facilities-text">{{family.FirstName}}</p>
                            <p style="color:seagreen; font-size: 11px; padding: 2px;" *ngIf = "family.SetupName != undefined">{{family.SetupName}}</p>
                        </ion-card-content>
                    </ion-card> 
                </ion-slide> -->
                <ion-slide *ngFor="let family of family_members;let i = index">
                    <ion-card class="facilityCard">
                        <ion-card-content [class.member_name]="family.MembershipName == undefined">
                            <p class="facilities-text">{{family.FirstName}}</p>
                            <p style="color:seagreen; font-size: 11px; padding: 2px;" *ngIf = "family.MembershipName!= undefined">{{family.MembershipName}}</p>
                        </ion-card-content>
                    </ion-card> 
                </ion-slide>
            </ion-slides>
        </ion-col>
        <ion-col col-2 class="borderbottomblock">
            <p class="mar-0 value">
                <ion-badge class="family-badges">{{family_members.length}} </ion-badge>
            </p>
        </ion-col>
    </ion-row>



    <ion-row (click)="goToMemberProfilePage()">
        <ion-col col-2 text-center>
            <ion-icon name="md-albums" class="color-white body-icon"></ion-icon>
        </ion-col>
        <ion-col col-5 class="borderbottomblock">
            <p class="color-white name">{{LangObj.memPro_actFile}}</p>
        </ion-col>
        <ion-col col-5 class="borderbottomblock">
            <ion-badge class="badges" style="background-color:#2fbac1">{{LangObj.memPro_pastbooking}}</ion-badge>
        </ion-col>
    </ion-row>


    <ion-row>
        <ion-col col-2 text-center>
            <ion-icon name="ios-create" class="color-white body-icon"></ion-icon>
        </ion-col>
        <ion-col col-5 class="borderbottomblock">
            <p class="color-white name">{{LangObj.memPro_notes}}</p>
        </ion-col>
        <ion-col col-5 class="borderbottomblock">
            <ion-badge class="badges">{{LangObj.memPro_comingsoon}}</ion-badge>
        </ion-col>
    </ion-row>

    <ion-row (click)="goToshowMembershipPage()">
        <ion-col col-2 text-center>
            <ion-icon ios="ios-contacts" md="md-contacts" class="color-white body-icon"></ion-icon>
        </ion-col>
        <ion-col col-5 class="borderbottomblock">
            <p class="color-white name">{{LangObj.memPro_membership}}</p>
        </ion-col>
        <ion-col col-5 class="borderbottomblock">
            <span>
                <ion-badge class="badges" style="background-color:#2fbac1">{{LangObj.memPro_selpackages}}</ion-badge>
            </span>
        </ion-col>
    </ion-row>


    <ion-row (click)="goToshowMemberChallenges()">
        <ion-col col-2 text-center>
            <img src="assets/imgs/performance.svg" class="body-icon" style="width: 30px;">
        </ion-col>
        <ion-col col-5 class="borderbottomblock">
            <p class="color-white name">{{LangObj.memPro_perforamnce}}</p>
        </ion-col>
        <ion-col col-5 class="borderbottomblock">
            <ion-badge class="badges" style="background-color:#2fbac1">Manage Challenges</ion-badge>
        </ion-col>
    </ion-row>
    <ion-row (click)="gotowallet()">
        <ion-col col-2 text-center>
            <img src="assets/imgs/wallet.svg" class="body-icon" style="width: 30px;">
        </ion-col>
        <ion-col col-5 class="borderbottomblock">
            <p class="color-white name">Wallet</p>
        </ion-col>
        <ion-col col-5 class="borderbottomblock">
            <ion-badge class="badges" style="background-color:#2fbac1">Manage Wallet</ion-badge>
        </ion-col>
    </ion-row>
    
    <hr style="margin-top: 60px;">
    <div class="user_actions" style="margin-bottom: 10px;">
        <ion-row *ngIf="this.memberInfo">
            <ion-col col-8>
                <p style="font-size: 18px;color: white;" class="bot-mar color-white" *ngIf="type == 'Member'">{{LangObj.memPro_member}}</p>
                <p style="font-size: 18px;color: white;" class="bot-mar color-white" *ngIf="type != 'Member'"> {{LangObj.memPro_becmember}}</p>
            </ion-col>
            <ion-col col-4 style="margin:auto;" text-right>
                <label class="toggle" *ngIf="type == 'Member'">
                <input type="checkbox" [(ngModel)]="memberInfo.is_enable" (change)="saveEnableStatetoDB()" >
                <span data-unchecked="No" data-checked="Yes" ></span>
              </label>
              <img src="assets/imgs/becomemember.svg" class="becomemember-img" *ngIf="type != 'Member'" (click)="becomeMember()" >
            </ion-col>
        </ion-row>
        <hr style="margin-top: 5px;">
        <ion-row>
            <ion-col col-8>
                <p style="font-size: 18px;color: white;white-space:normal !important" class="bot-mar color-white">Allow photo/video/social media</p>
            </ion-col>
            <ion-col col-4 style="margin:auto;" text-right>
                <label class="toggle">
                <input type="checkbox" [(ngModel)]="memberInfo.media_consent" (change)="allowMediaConsent()" >
                <span data-unchecked="No" data-checked="Yes" ></span>
              </label>
            </ion-col>
        </ion-row>
        <hr style="margin-top: 5px;">
        <p class="headingsty">Facility Booking</p>
        <ion-row style="margin: 5px 0px;">
            <ion-col col-8>
                <ion-label style="font-size: 18px;color: white;" class="bot-mar color-white" >Court Booking</ion-label>
            </ion-col>
            <ion-col col-4 style="margin:auto;" text-right>
                <label class="toggle" >
                <input type="checkbox" [(ngModel)]="memberInfo.allow_court_booking" (change)="saveCourtBookingtoDB()" >
                <span data-unchecked="No" data-checked="Yes" ></span>
              </label>
            </ion-col>
        </ion-row>
    
        <ion-row style="margin: 5px 0px;">
            <ion-col col-8>
                <ion-label style="font-size: 18px;color: white;" class="bot-mar color-white" >Coach</ion-label>
            </ion-col>
            <ion-col col-4 style="margin:auto;" text-right>
                <label class="toggle" >
                <input type="checkbox" [(ngModel)]="memberInfo.is_coach" (change)="saveCoachStatus()" >
                <span data-unchecked="No" data-checked="Yes" ></span>
              </label>
            </ion-col>
        </ion-row>
    
        <ion-row style="margin: 5px 0px;">
            <ion-col col-8>
                <ion-label style="font-size: 18px;color: white;" class="bot-mar color-white" >Gold Member</ion-label>
            </ion-col>
            <ion-col col-4 style="margin:auto;" text-right>
                <label class="toggle" >
                <input type="checkbox" [(ngModel)]="memberInfo.is_gold_member" (change)="saveGoldMemberStatus()" >
                <span data-unchecked="No" data-checked="Yes" ></span>
              </label>
            </ion-col>
        </ion-row>
    
        <div *ngIf="this.memberInfo">
            <hr style="margin-top: 5px;">
            <p class="headingsty">Delete/Deactivate Account</p>
            <ion-row>
                <ion-col col-8>
                    <ion-label style="font-size: 18px;color: white; " class="bot-mar color-white" (click)="changeActiveState()">{{LangObj.memPro_active}}</ion-label>
                </ion-col>
                <ion-col col-4 style="margin:auto;" text-right>
                    
                    <label class="toggle">
                    <input type="checkbox" [(ngModel)]="memberInfo.parent_status" (change)="saveActiveStatetoDB()">
                    <span data-unchecked="No" data-checked="Yes"></span>
                </label>
                </ion-col>
            </ion-row>
        </div>

    </div>
    
    <div id="customModal8" class="modal" (click)="closeModal()">

        <!-- Modal content -->
        <div class="modal-content">
            <!-- <span class="close">&times;</span> -->

            <ion-item>
                <!-- <ion-label>Member</ion-label> -->
                
                <ion-select [(ngModel)]="selectedClub" style="padding: 13px 8px 13px 2px;" placeholder="Select Club">
                    <ion-option *ngFor="let club of clubs" value={{club.$key}}>{{club.ClubName}}</ion-option>
                </ion-select>
            </ion-item>

            <ion-item class="comments">
                <ion-label floating>{{LangObj.memPro_comments}}({{LangObj.memPro_optional}})</ion-label>
                <ion-textarea type="text"></ion-textarea>
            </ion-item>
            <ion-grid>
                <ion-row>
                    <ion-col col-6>
                        <button ion-button block style="background-color:#2b92bb !important; color: white !important" (click)="cancelModal()">{{LangObj.memPro_cancel}}</button>
                    </ion-col>
                    <ion-col col-6>
                        <button ion-button block class="timekare-primary-btn" (click)="migrateMember()">{{LangObj.memPro_save}}</button>
                    </ion-col>

                </ion-row>
            </ion-grid>
        </div>

    </div>

</ion-content>