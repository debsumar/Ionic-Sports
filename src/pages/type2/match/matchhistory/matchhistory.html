<div>
  <ion-card style="width: 100%; margin: 0px">
    <ion-card-content style="padding: 0px">
      <ion-row>
        <ion-col col-6>
          <button ion-button class="select-type" (click)="changeType(0)" [class.selected]="activeIndex==0">
            Competitions
          </button>
        </ion-col>
        <ion-col col-6>
          <button ion-button class="select-type" (click)="changeType(1)" [class.selected]="activeIndex==1">
            Match
          </button>
        </ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>
</div>
<!-- the commented code below is the original match history display code, and it shows matches(singles/doubles) which are published -->
<!-- <ion-row style="width: 100%; height: 100%">
  <div style="width: 100%; height: 100%">
   
    <ion-list *ngIf="filteredMatches.length>0">
      <ion-card
        (click)="gotoMatchdetailsPage(history)"
        class="matchcard"
        *ngFor="let history of filteredMatches"
      >
        <ion-card-content>
          <ion-row style="margin-bottom: 10px; padding-top: 5px">
            <ion-col col-12 no-padding>
              <p class="dets_para">
                <span float-left>{{history.MatchTitle}}</span>
                <span float-right
                  >{{formatMatchStartDate(history.MatchStartDate)}}</span
                >
               
              </p>
              <p
                class="dets_para"
                style="margin-top: 21px !important; font-size: 12px !important"
              >
                {{history.Activity.ActivityName}}
              </p>
            </ion-col>
          </ion-row>
          <ion-row
            *ngFor="let team of history.Teams;let j=index;"
            class="participant_row"
          >
            <ion-col
              col-8
              style="padding: 5px 5px 5px 0px !important"
              [style.border-bottom]="j==0 ? '1px solid #b4b0b0' : 'none'"
            >
              <p class="users_para commman_para">
                <span
                  *ngFor="let participant of team.Participants;let k=index;"
                  [style.color]="team.IsWinner ? 'green' : 'red'"
                  >{{participant.User.FirstName}}
                  <span *ngIf="k!=team.Participants.length-1">,</span>
                </span>
                <span *ngIf="team.IsWinner" style="margin-right: 5px">
                  <ion-icon name="md-trophy"></ion-icon>
                </span>
              </p>
            </ion-col>
            <ion-col col-4 style="padding: 6px 5px 5px 10px !important">
              <p class="sets_para commman_para" style="">
                <span *ngFor="let set of team.Sets_Points;let l=index"
                  >{{set}}</span
                >
              </p>
            </ion-col>
          </ion-row>
          <ion-row style="margin-top: 10px">
            <ion-col col-12 no-padding>
              <p class="dets_para" style="color: rgba(0, 0, 0, 0.3) !important">
                <span float-left>{{history.VenueName}}</span>
              </p>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card>
    </ion-list>
  </div>
</ion-row> -->


<div *ngIf="activeIndex==0">
  <div style="width: 100%; height: 100%">
    <ion-card class="headercard">
      <ion-card-content>
        <ion-row>
          <ion-col col-12>
            <div>
              <ion-row class="sub-container rows-allign2">
                <ion-col col-1 style="text-align: center; margin-top: 12px; padding: 0px">
                  <ion-icon name="ios-search"></ion-icon>
                </ion-col>
                <ion-col col-11 class="search-bar">
                  <ion-searchbar class="search" placeholder="Search by Competition, Activity, Venue..."
                    [(ngModel)]="searchInput" (ionInput)="getLeagueSearch($event)" autocorrect="off"
                    showCanelButton="focus"></ion-searchbar>
                </ion-col>
              </ion-row>
            </div>
          </ion-col>
        </ion-row>
      </ion-card-content>
    </ion-card>


    <ion-row *ngIf="filteredleagues.length>0">
      <ion-col col-12 style="padding-left: 10px" *ngFor="let league of filteredleagues">
        <div class=" border-left-style"></div>
        <ion-card (click)="gotoLeaguedetailsPage(league)">
          <ion-card-header class="Location-head">
            <ion-row>
              <p class="name">{{league.league_name | titlecase}}</p>
            </ion-row>
          </ion-card-header>
          <ion-card-content style="color: #c5b495">
            <ion-row>
              <ion-col col-6 style="margin-bottom: -15px;">
                <p class="datetext">
                  <span>{{league.start_date}}</span>
                  <span></span>
                </p>
              </ion-col>

              <ion-col col-6 style="margin-bottom: -15px;" class="align-right">
                <p class="card-text">
                  <span>{{league.league_type_text}}</span>
                  <span></span>
                </p>
              </ion-col>
            </ion-row>
            <ion-row style="margin-bottom: -12px">
              <ion-col col-7>
                <p class="card-text">
                  <span>{{league.activity.ActivityName}}</span>
                </p>
              </ion-col>
              <ion-col col-5 class="align-right">
                <p class="card-text">
                  <span>
                    {{league.league_category_text}}<span
                      *ngIf="league. league_age_group">/{{league.league_age_group}}</span>
                  </span>
                </p>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col col-8>
                <p class="card-text">
                  <ion-icon style="font-size: 18px; color: #2b92bb" name="pin"></ion-icon>
                  <span>{{league.club.ClubName}}</span>
                </p>
              </ion-col>
              <ion-col col-4 class="align-right">
                <p class="card-text">
                  <span class="card-text" style="color:  #c5b495;">{{league.league_visibility==0?"Public":"Private"}}
                  </span>
                </p>
              </ion-col>
            </ion-row>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </div>
</div>

<div *ngIf="activeIndex==1">
  <div style="width: 100%; height: 100%">
    <ion-card class="headercard">
      <ion-card-content>
        <ion-row>
          <ion-col col-12>
            <div>
              <ion-row class="sub-container rows-allign2">
                <ion-col col-1 style="text-align: center; margin-top: 12px; padding: 0px">
                  <ion-icon name="ios-search"></ion-icon>
                </ion-col>
                <ion-col col-11 class="search-bar">
                  <ion-searchbar placeholder="Search by Host, Title, Activity" id="customsearchbar" autocorrect="off"
                    (ionInput)="getFilterEvents($event)" showCanelButton="focus"></ion-searchbar>
                </ion-col>
              </ion-row>
            </div>
          </ion-col>
        </ion-row>
      </ion-card-content>
    </ion-card>

    <ion-row *ngIf="filteredMatchlist.length > 0">
      <ion-col col-12 style="padding-left: 10px" *ngFor="let match of filteredMatchlist">
        <div class="all border-left-style"></div>
        <ion-card (click)="gotoMatchdetailsPage(match)">
          <ion-card-header class="Location-head">
            <ion-row>
              <ion-col>
                <p class="name">{{match.MatchTitle | titlecase}}</p>
              </ion-col>
            </ion-row>
          </ion-card-header>
          <ion-card-content style="color: #c5b495">
            <ion-row>
              <ion-col col-6 style="margin-bottom: -15px;">
                <p class="datetext">
                  <span>{{match.MatchStartDate}}</span>
                </p>
              </ion-col>
              <ion-col col-6 style="margin-bottom: -15px;" class="align-right">
                <p class="card-text">
                  <span>{{match.ActivityName}}</span>
                </p>
              </ion-col>
            </ion-row>
            <ion-row style="margin-bottom: -12px">
              <ion-col col-7>
                <p class="card-text">
                  <span>{{match.homeUserName}} vs {{match.awayUserName}}</span>
                </p>
              </ion-col>
              <ion-col col-5 class="align-right">
                <p class="card-text">
                  <span>{{match.VenueName}}</span>
                </p>
              </ion-col>
            </ion-row>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </div>
</div>