<ion-content class="modern-history">
  <!-- Modern Tab Selector -->
  <div class="modern-tab-selector">
    <button class="modern-tab" [class.active]="activeIndex==0" (click)="changeType(0)">
      <div class="tab-icon-wrapper">
        <ion-icon name="trophy"></ion-icon>
      </div>
      <span>Competitions</span>
    </button>
    <button class="modern-tab" [class.active]="activeIndex==1" (click)="changeType(1)">
      <div class="tab-icon-wrapper">
        <ion-icon name="american-football"></ion-icon>
      </div>
      <span>Matches</span>
    </button>
  </div>


  <!-- Competitions Tab Content -->
  <div *ngIf="activeIndex==0" class="tab-content">
    <!-- Modern Search Card -->
    <!-- <div class="modern-search-card"> -->
    <ion-searchbar class="sleek-searchbar" placeholder="Search competitions, activities, venues..."
      [(ngModel)]="searchInput" (ionInput)="getLeagueSearch($event)" autocorrect="off"
      showCancelButton="focus"></ion-searchbar>
    <!-- </div> -->

    <!-- Competitions Grid -->
    <div class="competitions-container" *ngIf="filteredleagues.length > 0">
      <div class="modern-card competition-card" *ngFor="let league of filteredleagues"
        (click)="gotoLeaguedetailsPage(league)">
        <div class="card-header">
          <div class="card-icon-wrapper competition-bg">
            <ion-icon name="trophy" class="card-icon"></ion-icon>
          </div>
          <div class="card-info">
            <h3 class="card-title">{{league.league_name | titlecase}}</h3>
            <p class="card-subtitle">{{league.activity.ActivityName}}</p>
          </div>
          <div class="visibility-badge" [class.private]="league.league_visibility==1">
            <ion-icon [name]="league.league_visibility==0 ? 'globe' : 'lock'"></ion-icon>
          </div>
        </div>
        <div class="card-body">
          <div class="competition-details">
            <div class="detail-row">
              <div class="detail-item">
                <ion-icon name="calendar" class="detail-icon"></ion-icon>
                <span class="detail-text">{{league.start_date}}</span>
              </div>
              <div class="detail-item type-badge">
                <span class="badge-text">{{league.league_type_text}}</span>
              </div>
            </div>
            <div class="detail-row">
              <div class="detail-item">
                <ion-icon name="location" class="detail-icon"></ion-icon>
                <span class="detail-text">{{league.club.ClubName}}</span>
              </div>
              <div class="detail-item category-badge" *ngIf="league.league_category_text">
                <span class="badge-text">{{league.league_category_text}}<span
                    *ngIf="league.league_age_group">/{{league.league_age_group}}</span></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div class="modern-empty-state" *ngIf="filteredleagues.length === 0">
      <div class="empty-illustration">
        <ion-icon name="trophy" class="empty-icon"></ion-icon>
      </div>
      <div class="empty-text">
        <h2 class="empty-title">No Competitions Found</h2>
        <p class="empty-description">No competitions available at the moment</p>
      </div>
    </div>
  </div>

  <!-- Matches Tab Content -->
  <div *ngIf="activeIndex==1" class="tab-content">
    <!-- Modern Search Card -->
    <div class="modern-search-card">
      <ion-searchbar class="sleek-searchbar" placeholder="Search matches, activities, venues..."
        (ionInput)="getFilterEvents($event)" autocorrect="off" showCancelButton="focus"></ion-searchbar>
    </div>

    <!-- Matches Grid -->
    <div class="matches-container" *ngIf="filteredMatchlist.length > 0">
      <div class="modern-card match-card" *ngFor="let match of filteredMatchlist" (click)="gotoMatchdetailsPage(match)">
        <div class="card-header">
          <div class="card-icon-wrapper matches-bg">
            <ion-icon name="american-football" class="card-icon"></ion-icon>
          </div>
          <div class="card-info">
            <h3 class="card-title">{{match.MatchTitle | titlecase}}</h3>
            <p class="card-subtitle">{{match.ActivityName}}</p>
          </div>
        </div>
        <div class="card-body">
          <div class="match-details">
            <div class="detail-row">
              <div class="detail-item">
                <ion-icon name="calendar" class="detail-icon"></ion-icon>
                <span class="detail-text">{{match.MatchStartDate}}</span>
              </div>
              <div class="detail-item venue-badge">
                <ion-icon name="location" class="detail-icon"></ion-icon>
                <span class="detail-text">{{match.VenueName}}</span>
              </div>
            </div>
            <div class="detail-row">
              <div class="detail-item players">
                <ion-icon name="people" class="detail-icon"></ion-icon>
                <span class="detail-text">{{match.homeUserName}} vs {{match.awayUserName}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div class="modern-empty-state" *ngIf="filteredMatchlist.length === 0">
      <div class="empty-illustration">
        <ion-icon name="american-football" class="empty-icon"></ion-icon>
      </div>
      <div class="empty-text">
        <h2 class="empty-title">No Matches Found</h2>
        <p class="empty-description">No matches available at the moment</p>
      </div>
    </div>
  </div>
</ion-content>