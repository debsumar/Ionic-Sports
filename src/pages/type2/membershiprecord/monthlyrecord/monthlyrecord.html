<ion-header>
    <ion-navbar>
        <ion-title>Membership</ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
  <div style="margin-bottom: 60px;" [ngStyle]="{'margin-top.px': this.platformType=='ios' ? 30 : 0 }">
    <ion-row>
      <ion-col col-12 style="padding:0px !important">
        <ion-list>
          <ion-grid>
            <ion-row *ngIf="membership_user">
              <ion-col  col-8>
                <p style="font-size:20px; margin: 5px 0;color:rgba(0,0,0,0.85)">{{membership_user.membership_name}} </p>
              </ion-col> 
              <ion-col col-4 text-center>
                <p style="font-size: 16px;color:rgba(0,0,0,0.65)">{{membership_user.formatted_exp_date}}</p>
                <p>(Expires)</p>
              </ion-col>
            </ion-row>
            <ion-row *ngIf="membership_user">
              <!-- <ion-col style="padding: 0 7px;margin:auto" *ngFor="let mem of memberofSameMembership" col-8>
                <p style="margin:0px;
                color: rgba(0,0,0,0.65);">{{mem.DisplayName}}</p>
              </ion-col> -->
              <ion-col col-8>
                <p style="margin:0px;color: rgba(0,0,0,0.65);">{{membership_user.first_name}} {{membership_user.last_name}}</p>
              </ion-col>
              <ion-col col-4 *ngIf="isRenewal" style="margin:auto">
                <p style="margin:0px;" style="font-size:20px; margin: 5px 0;color:rgba(0,0,0,0.85)">
                  <span>Price:</span>
                  <span *ngIf="currencyDetails!=undefined">{{currencyDetails.CurrencySymbol}}</span>
                  <span style="margin-left:-3px">{{membership_user.PaymentOptions.Monthly.Price}}</span>
                </p>
              </ion-col>
            </ion-row>
            <ion-row class="innercard_style row"
              *ngFor="let monthly of membershipMonths">
              <!-- <ion-col col-3 class="margin-auto" text-center>
                <p *ngIf="monthly.formatted_payment_date" class="transactiondate">
                 <span>{{monthly.formatted_payment_date}}</span> 
                </p>   
                <p *ngIf="!monthly.formatted_payment_date" class="transactiondate">
                  <span>Not yet</span> 
                 </p> 
              </ion-col> -->
              <ion-col col-9 text-left class="mem_col margin-auto border-left">
                <p class="member_name" text-left>{{monthly.year}}-{{monthly.month_name}}</p>
              </ion-col>
              <ion-col col-3 text-center class="margin-auto">
                <p class="amt">
                  <span *ngIf="currencyDetails!=undefined">{{currencyDetails.CurrencySymbol}}</span>
                  <span style="margin-left: -3px">{{monthly.subscription_status == 1 ? monthly.amount_paid:monthly.amount_due}}</span>
                </p>
                <p *ngIf="monthly.formatted_payment_date" class="transactiondate">
                  <span>{{monthly.formatted_payment_date}}</span> 
                </p>  
                <p *ngIf="monthly.subscription_status == 0 && monthly.pay_status==0" style="font-size:12px;margin: 0; color:red; font-weight: 200;">Not Subscribed</p>
                <p *ngIf="monthly.subscription_status == 1 && monthly.pay_status==1" style="font-size:12px;margin: 0; color:green; font-weight: 200;">Paid</p>
                <p *ngIf="monthly.subscription_status == 1 && monthly.pay_status==0" style="font-size:12px;margin: 0; color:red; font-weight: 200;">Pending</p>
                <p *ngIf="monthly.subscription_status == 2 && monthly.pay_status==1" style="font-size:12px;margin: 0; color:red; font-weight: 200;">Cancelled</p> 
              </ion-col>
            </ion-row>
            <ion-row class="innercard_style row"
            *ngIf="subscriptionList.length == 0 && member">
            <!-- <ion-col col-3 class="margin-auto" text-center>
                      
              <p *ngIf="monthly.TransactionDateFormatted" class="transactiondate" >
               <span>{{monthly.TransactionDateFormatted}}</span> 
              </p>   
              <p *ngIf="!monthly.TransactionDateFormatted " class="transactiondate" >
                <span>Not yet</span> 
               </p> 

            </ion-col> -->
            <ion-col col-6 text-left class="mem_col margin-auto">
              <p style="margin: 0px 0px 14px 19px;" class="member_name">Yearly</p>
            </ion-col>
            <ion-col style="padding: 0px 18px 0px 6px;" col-6 text-right class="margin-auto border-left">
              <p class="amt">
                <span
                  *ngIf="currencyDetails!=undefined">{{currencyDetails.CurrencySymbol}}</span>
                  <span>{{subscription_status == 1 ? monthly.amount_paid:monthly.amount_due}}</span>
              </p>
              <p *ngIf="monthly.subscription_status == 1 && monthly.pay_status==1" style="font-size:12px;margin: 0; color:green; font-weight: 200; ">Paid</p>
              <p *ngIf="monthly.subscription_status == 0 && monthly.pay_status==0" style="font-size:12px;margin: 0; color:red; font-weight: 200; ">Pending</p>
            </ion-col>
          </ion-row>
          </ion-grid>
        </ion-list>
      </ion-col>
    </ion-row>   
  </div>
</ion-content>

<ion-footer class="btngrid" *ngIf="isRenewal">
  <ion-row>
    <ion-col col-12>
      <button ion-button block class="timekare-primary-btn" (click)="renewMembership()">Renew Membership</button>
    </ion-col>
  </ion-row>
</ion-footer>