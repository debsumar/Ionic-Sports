<ion-header>

    <ion-navbar>
        <ion-title>Membership</ion-title>
    </ion-navbar>

</ion-header>

<ion-content >
   
  <div [ngStyle]="{'margin-top.px': this.platformType=='ios' ? 30 : 0 }" style="margin-bottom: 60px;">
    <ion-row>
      <ion-col col-12 text-center>
        <div class="circleProgress">
          <p><span>{{enrol_count}}</span></p>
          <img src="assets/images/check-mark.svg">
        </div>
        <div *ngIf="this.membership_type == 2">
          <p class="progress_txt">{{membership.Name}}</p>
        </div>
      </ion-col>
    </ion-row>
    <ion-row class="choose-row top-row" *ngIf="this.membership_type == 2">
      <ion-col col-6>
        <button ion-button class="select-type" (click)="getMembershipEnrols(1)" [class.selected]="type==1">
          <span class="tab_header">Paid</span>&nbsp;
          <span class="trns_count">({{paid_member_count}})</span>
        </button>
      </ion-col>
      <ion-col col-6>
        <button ion-button class="select-type" (click)="getMembershipEnrols(0)" [class.selected]="type==0">
            <span class="tab_header">Pending</span>&nbsp;
            <span class="trns_count">({{pending_member_count}})</span>
        </button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-12 style="padding:0px !important">
        <ion-list>
          <ion-grid>
            <ion-row class="innercard_style row" (click)="openActionSheet(memberDetials)"
              *ngFor="let memberDetials of membership_users">
              <ion-col col-3 class="margin-auto" text-center>
                <p class="transactiondate">
                 <span>{{memberDetials.formatted_exp_date}}</span> Expires
                </p>
              </ion-col>
              <ion-col col-6 text-left class="mem_col margin-auto border-left">
                <p class="member_name">{{memberDetials.first_name}} {{memberDetials.last_name}}</p>
                <p class="paymentOption">{{memberDetials.membership_type == 1 ? 'Monthly': 'Yearly'}}</p>
              </ion-col>
              <ion-col col-3 text-center class="margin-auto">
                <p class="amt">
                  <span
                    *ngIf="currencyDetails!=undefined">{{currencyDetails.CurrencySymbol}}</span>{{memberDetials.amount}}
                </p>
                <p *ngIf="memberDetials.subscription_status==1" style="font-size:12px;margin: 0; color:green; font-weight: 200; ">Paid</p>
                <p *ngIf="memberDetials.subscription_status==0" style="font-size:12px;margin: 0; color:red; font-weight: 200; ">Pending</p>
                <p *ngIf="memberDetials.subscription_status==2" style="font-size:12px;margin: 0; color:red; font-weight: 200; ">Cancelled</p>
                <!-- <p *ngIf="memberDetials.IsPaid" style="font-size:12px;margin: 0; color:green; font-weight: 200; ">Paid</p>
                <p *ngIf="memberDetials.IsCancelled" style="font-size:12px;margin: 0; color:red; font-weight: 200; ">Cancelled</p> -->
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-list>
      </ion-col>
    </ion-row>
    <!-- <ion-row *ngIf="type == 0">
      <ion-col col-12 style="padding:0px !important">
        <ion-list>
          <ion-grid>
            <ion-row class="innercard_style row" (click)="openActionSheet(memberDetials)"
              *ngFor="let memberDetials of PendingMembers">
              <ion-col col-3 class="margin-auto" text-center>
                
                <p class="transactiondate">
                 <span>{{memberDetials.ValidityDate}}</span> Expires
                </p>
              </ion-col>
              <ion-col col-6 text-left class="mem_col margin-auto border-left">
                <p class="member_name">{{memberDetials.DisplayName}}</p>
                <p class="paymentOption">{{memberDetials.PaymentOptions}}</p>
              </ion-col>
              <ion-col col-3 text-center class="margin-auto">
                <p class="amt">
                  <span
                    *ngIf="currencyDetails!=undefined">{{currencyDetails.CurrencySymbol}}</span>{{memberDetials.Amount}}
                </p>
                
                <p *ngIf="!memberDetials.IsPaid && !memberDetials.subsOn " style="font-size:12px;margin: 0; color:red; font-weight: 200; ">Pending</p>
                <p *ngIf="!memberDetials.IsPaid && memberDetials.subsOn " style="font-size:12px;margin: 0; color:blue; font-weight: 200; ">Subs On</p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-list>
      </ion-col>
    </ion-row> -->
    <ion-row>
      <ion-col col-12 *ngIf="type == 1 && membership_users.length == 0" text-center>
        <p>No paid payments found</p>
      </ion-col>
      <ion-col col-12 *ngIf="type == 0 && membership_users.length == 0" text-center>
          <p>No due payments found</p>
      </ion-col>
    </ion-row>
  </div>

</ion-content>