<!--
  Generated template for the ChallengeslistPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar class="toolbarheader">
    <ion-title>
      Challenges
    </ion-title>
    <ion-buttons start>
      <button ion-button (click)="clearNdismiss()">
        <span ion-text color="primary" showWhen="ios" style="color:white;">Close</span>
        <ion-icon name="md-close" style="color:#fff;" showWhen="android,windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content padding>
  <ion-row class="sub-container rows-allign2" *ngIf="!canAddChallenge">
    <ion-col col-1 style="text-align:center;margin:auto;padding:0px">
      <ion-icon name="ios-search"></ion-icon>
    </ion-col>
    <ion-col col-11 class="search-bar">
      <ion-searchbar placeholder="Search Challenges" id="customsearchbar" (ionInput)="FilterChallenges($event)"
        autocorrect="off"></ion-searchbar>
    </ion-col>
  </ion-row>

  <ion-row *ngIf="!canAddChallenge">
    <ion-col col-12 no-padding>
      <ion-list class="ion_list">
        <ion-list-header class="session_header" style="font-size: 18px;">
          Challenges Lists
        </ion-list-header>
        <ion-item *ngFor="let challenge of Challenges;let i = index" style="padding-left:5px !important">
          <ion-label style="overflow: visible !important;">{{challenge.ChallengeName}}</ion-label>
          <ion-checkbox [(ngModel)]="challenge.isSelect " [checked]="challenge.isSelect"
            [disabled]="challenge.isAlreadySelected" (ionChange)="selectChallenge(challenge)"></ion-checkbox>
        </ion-item>
      </ion-list>
    </ion-col>
  </ion-row>

  <ion-row *ngIf="canAddChallenge">
    <p style="color: rgba(0,0,0,0.65); font-size: 14px; margin: 9px 0px 3px 4px;">Selected challenges</p>
    <ion-row class="eachrow" *ngFor="let challenge of SelectedChallenges">
      <ion-col class="firstcol" col-12>
        <p class="listing">{{challenge.ChallengeName}}</p>
      </ion-col>
      <ion-col class="othercol" col-12>
        <ion-item>
          <ion-label>Frequency</ion-label>
          <ion-select [(ngModel)]="challenge.frequency" >
            <ion-option *ngFor="let freq of frequencyList" value={{freq.id}}>{{freq.name}}</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
      <!-- <ion-col class="othercol" col-6>
        <ion-item>
          <ion-label>Start</ion-label>
          <ion-datetime [(ngModel)]="challenge.startAt" displayFormat="DD/MM/YYYY" pickerFormat="DD MM YYYY"
            min="2020-01-01" max="2028-12-31"></ion-datetime>
        </ion-item>
      </ion-col> -->
      <!-- <ion-col class="othercol" col-6>
        <ion-item>
          <ion-label>Untill</ion-label>
          <ion-datetime [(ngModel)]="challenge.endAt" displayFormat="DD/MM/YYYY" pickerFormat="DD MM YYYY"
            min="2020-01-01" max="2028-12-31"></ion-datetime>
        </ion-item>
      </ion-col> -->
    </ion-row>
  </ion-row>

</ion-content>

<ion-footer>
  <ion-row>
    <ion-col col-12>
      <button *ngIf="!canAddChallenge" ion-button block class="timekare-primary-btn"
        (click)="continue()">Continue</button>
      <button *ngIf="canAddChallenge" ion-button block class="timekare-primary-btn" (click)="dismiss()">Add
        Challenges</button>
    </ion-col>
  </ion-row>
</ion-footer>